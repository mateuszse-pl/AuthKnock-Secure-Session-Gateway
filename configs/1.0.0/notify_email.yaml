#IMPORTANT INFO: The AuthKnock creator (Mateusz Serafi≈Ñski) does not provide 100% secure or bug-free software.
#By using AuthKnock you agree that you are using it at your own risk. The author is not responsible for any damage caused by using this software.
#This software is provided "as is" without any guarantees or warranty.
#This file can't be seen by the users that aren't administrators for security reasons. If the file is visible to non-admin users, please report a security issue, because the installation script should prevent this from happening.
#AuthKnock is not taking any of your data, but if you want to be safe, use a service account with minimal permissions.
#The creator of AuthKnock (Mateusz Serafi≈Ñski) is not connected with any third-party services used in this software. So report bugs only to at the official AuthKnock channels.
#SMTP setup (works for local SMTP servers and popular providers like Gmail, Outlook, SendGrid, etc.)
smtp_settings:
  host: "smtp.gmail.com"        # server adress (np. smtp.gmail.com for gmail)
  port: 587                     # 587 (STARTTLS) lub 465 (SSL/TLS)
  encryption: "starttls"        # ssl/tls / starttls / none
  timeout: 10                   # timeout in seconds

  # --- AUTHENTICATION ---
  auth:
    enabled: true
    # for Gmail/Google: Full email address used for login
    username: "system.alerts@twojadomena.pl"
    # for Gmail/Google: Generated "App Password" (16 characters), not account password!
    password: "abcd-efgh-ijkl-mnop" 

# --- Sender and Recipients ---
delivery:
  from_name: "AuthKnock Secure Session Gateway"
  from_email: "system.alerts@twojadomena.pl"
  reply_to: "no-reply@twojadomena.pl"
  
  # Lista administrator√≥w otrzymujƒÖcych pro≈õby o dostƒôp
  admin_recipients:
    - "mateuszse@twojadomena.pl"
    - "admin.team@twojadomena.pl"

# --- PERSONALIZACJA POWIADOMIE≈É ---
content:
  high_priority_flag: true      # Set to true to mark emails as high priority
  include_ip_location: true     # Set to true to include IP geolocation info (if available)
  
  # Templates for email subjects and bodies
  #FOR EN/DE VERSION PLEASE TRANSLATE THE VALUES IF YOU NEED TO, THIS IS THE POLISH VERSION.
  # Fur EN/DE VERSION BITTE DIE WERTE √úBERSETZEN, WENN SIE SIE BEN√ñTIGEN, DAS IST DIE POLNISCHE VERSION.
  templates:
    subject_request: "üî¥ PRO≈öBA O DOSTƒòP: {user} -> {service}"
    subject_alert: "‚ö†Ô∏è WYKRYTO ZDARZENIE: {event_type}"
    
    # HTML body layout
    html_body_layout: |
      <div style="font-family: sans-serif; border: 1px solid #ddd; padding: 20px;">
        <h2 style="color: #d32f2f;">Wykryto pr√≥bƒô autoryzacji</h2>
        <p><b>U≈ºytkownik:</b> {user}</p>
        <p><b>Us≈Çuga:</b> {service}</p>
        <p><b>Adres IP:</b> {ip}</p>
        <p><b>Czas:</b> {timestamp}</p>
        <hr>
        <p>Zaloguj siƒô do panelu administratora, aby zatwierdziƒá lub odrzuciƒá ten dostƒôp.</p>
      </div>

# --- NOTIFICATION TRIGGERS ---
event_triggers:
  notify_on_login_success: true
  notify_on_login_failure: true
  notify_on_admin_approval_required: true
  notify_on_firewall_error: true
  notify_on_logout: false
  notify_on_all_service_access: false # This flag is ignored for services that require admin approval.
  notify_on_specific_services: []   # Example: ["srv_ssh", "srv_mc"]; empty list means all services
  notify_on_specific_users: []      # Example: ["mateuszse", "admin_local"]; empty list means all users (use none if you don't want to use this filter)
  notify_on_specific_groups: []     # Example: ["admins", "it_staff"]; empty list means all groups (use none if you don't want to use this filter)
  # Note: If both specific_users and specific_groups are set, notification is sent if either condition matches.
